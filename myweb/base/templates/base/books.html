
<style>
    .home-container {
        display: grid;
        grid-template-columns: 2fr 7fr;
    }

    .genres {
        margin: 80px 30px;
    }

    .row {
        display: flex;
        flex-direction: row;
    }

    .card {
        margin-bottom: 30px;
    }
</style>

<div class="home-container">
    <div class="genres">
        <div class="topics">
          <div class="topics__header">
            <h2>Genres:</h2>
          </div>
          <ul class="topics__list">
            <li>
              <a class="active" href="{{ request.path }}">All <span>{{ genres.count }}</span></a>
            </li>

            {% for genre in genres %}
            <li>
              <a href="{{ request.path }}?q={{ genre.name }}">{{genre}} <span>{{ genre.books.count }}</span></a>
            </li>
            {% endfor %}


          </ul>
          <a class="btn btn--link" href="topics.html">
            More
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
              <title>chevron-down</title>
              <path d="M16 21l-13-13h-3l16 16 16-16h-3l-13 13z"></path>
            </svg>
          </a>
        </div>
    </div>

    <div>
        <br><br>
        <div class="roomList__header">
            <div style="display: flex;">
              <div>
                  <h2>Online Library</h2>
                  <p>{{ books.count }} Books available</p>
              </div>
              <div style="margin-left: 20px;">
                  <a class="btn btn--main" href="{% url 'add' %}">
                      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                        <title>add</title>
                        <path
                          d="M16.943 0.943h-1.885v14.115h-14.115v1.885h14.115v14.115h1.885v-14.115h14.115v-1.885h-14.115v-14.115z"
                        ></path>
                      </svg>
                      Add Book
                  </a>
              </div>
            </div>

          </div>

        <div class="row">
            {% for book in books %}
                <div class="card" style="width: 18rem; margin-left: 30px;">
                  <img src="{{ book.picture.url }}" class="card-img-top" alt="...">
                  <div class="card-body">
                    <h5 class="card-title">{{ book.name }}</h5>
                    <h6 class="card-title">{{ book.author }}</h6>
                    <p class="card-text">{{ book.description |slice:":100" }}</p>

                    {% if request.user.is_authenticated %}
                        <a href="{% url 'reading' book.id %}" class="btn btn-primary">Read</a>
                        {% if book in request.user.books.all %}
                            <a href="{% url 'delete' book.id %}" class="btn btn-primary">Drop</a>
                        {% else %}
                            <a href="{% url 'adding' book.id %}" class="btn btn-primary">Add</a>
                        {% endif %}
                        {% if request.user == book.creator %}
                            <a href="{% url 'delete_book' book.id %}" class="btn btn-primary">Delete</a>
                        {% endif %}
                    {% endif %}
                  </div>
                </div>
            {% endfor %}
        </div>
    </div>
    </div>
